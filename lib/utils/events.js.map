{"version":3,"sources":["../../source/utils/events.js"],"names":["getMousePosition","event","x","pageX","window","scrollX","pageXOffset","y","pageY","scrollY","pageYOffset","getTouchPosition","touches","pauseEvent","stopPropagation","preventDefault","addDocumentListeners","eventMap","key","Object","prototype","hasOwnProperty","call","document","addEventListener","removeDocumentListeners","removeEventListener","addWindowListeners","removeWindowListeners","targetIsDescendant","parent","clickedNode","target","contains","addEventListenerOnTransitionEnded","element","fn","eventName","transitionEventNamesFor","removeEventListenerOnTransitionEnded","TRANSITIONS","transition","OTransition","MozTransition","WebkitTransition","style"],"mappings":"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","file":"events.js","sourcesContent":["// @flow\n// $FlowFixMe\nimport type { SyntheticMouseEvent, SyntheticTouchEvent, SyntheticEvent, Element, ElementRef } from 'react';\n\nexport const getMousePosition = (event: SyntheticMouseEvent<>) => ({\n  x: event.pageX - (window.scrollX || window.pageXOffset),\n  y: event.pageY - (window.scrollY || window.pageYOffset)\n});\n\nexport const getTouchPosition = (event: SyntheticTouchEvent<Element<*>>) => ({\n  x: event.touches[0].pageX - (window.scrollX || window.pageXOffset),\n  y: event.touches[0].pageY - (window.scrollY || window.pageYOffset)\n});\n\nexport const pauseEvent = (event: SyntheticEvent<Element<*>>) => {\n  event.stopPropagation();\n  event.preventDefault();\n};\n\nexport const addDocumentListeners = (eventMap: {}) => {\n  for (const key in eventMap) {\n    if (Object.prototype.hasOwnProperty.call(eventMap, key)) {\n      document.addEventListener(key, eventMap[key], false);\n    }\n  }\n};\n\nexport const removeDocumentListeners = (eventMap: {}) => {\n  for (const key in eventMap) {\n    if (Object.prototype.hasOwnProperty.call(eventMap, key)) {\n      document.removeEventListener(key, eventMap[key], false);\n    }\n  }\n};\n\nexport const addWindowListeners = (eventMap: {}) => {\n  for (const key in eventMap) {\n    if (Object.prototype.hasOwnProperty.call(eventMap, key)) {\n      window.addEventListener(key, eventMap[key]);\n    }\n  }\n};\n\nexport const removeWindowListeners = (eventMap: {}) => {\n  for (const key in eventMap) {\n    if (Object.prototype.hasOwnProperty.call(eventMap, key)) {\n      window.removeEventListener(key, eventMap[key]);\n    }\n  }\n};\n\nexport const targetIsDescendant = (event: SyntheticEvent<HTMLElement>, parent: ?ElementRef<*>) => {\n  const clickedNode = event.target;\n\n  // if the node exists,\n  // the node is not the given parent,\n  // and the node does not contain the parent,\n  // then the node is a descendant of the parent\n  if (clickedNode && parent && parent.contains(clickedNode) && !clickedNode.contains(parent)) {\n    return true;\n  }\n\n  // otherwise it is not a descendant of the given parent\n  return false;\n};\n\nexport const addEventListenerOnTransitionEnded = (element: ElementRef<*>, fn: Function) => {\n  const eventName = transitionEventNamesFor(element);\n  if (!eventName) return false;\n  element.addEventListener(eventName, fn);\n  return true;\n};\n\nexport const removeEventListenerOnTransitionEnded = (element: ElementRef<*>, fn: Function) => {\n  const eventName = transitionEventNamesFor(element);\n  if (!eventName) return false;\n  element.removeEventListener(eventName, fn);\n  return true;\n};\n\n// constants and helper functions /////////\n\nconst TRANSITIONS: {\n  transition: string,\n  OTransition: string,\n  MozTransition: string,\n  WebkitTransition: string\n} = {\n  transition: 'transitionend',\n  OTransition: 'oTransitionEnd',\n  MozTransition: 'transitionend',\n  WebkitTransition: 'webkitTransitionEnd'\n};\n\n/* eslint space-before-function-paren:0 */\nfunction transitionEventNamesFor (element: ElementRef<*>) {\n  for (const transition in TRANSITIONS) {\n    if (element && Object.prototype.hasOwnProperty.call(element.style, transition)) {\n      return TRANSITIONS[transition];\n    }\n  }\n}\n"]}